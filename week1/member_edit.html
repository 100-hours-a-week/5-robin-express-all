<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="../../mycss.css" rel="stylesheet" />
    <link href="../../common.css" rel="stylesheet" />
  </head>
  <body>
    <article class="wrap">
      <article class="header">
        <div style="width: 70px; height: 100%"></div>
        <span class="mtp10">아무 말 대잔치</span>
        <div class="header-right-overlay">
          <span class="mtp10"
            ><img
              src="/images/스크린샷 2024-04-04 오후 4.38.05.png"
              class="header-right"
          /></span>
          <div class="header-right-board">
            <p><a href="/member/1">회원정보수정</a></p>
            <p><a href="/member/1/password">비밀번호수정</a></p>
            <p><a href="/">로그아웃</a></p>
          </div>
        </div>
      </article>
      <hr class="horizontal-rule" />
      <div class="board">
        <h3 style="text-align: center">비밀번호 수정</h3>
        <div class="write-form">
          <form name="login_Form">
            <p>비밀번호</p>
            <input
              id="password"
              type="password"
              class="form-control"
              title="비밀번호을 입력하세요."
              placeholder="비밀번호을 입력하세요."
              name="password"
            />
            <p class="helper" id="helper_pwd">*비밀번호를 입력해주세요.</p>
            <p>비밀번호 확인</p>
            <input
              id="password_chk"
              type="password"
              class="form-control"
              title="비밀번호를 입력하세요."
              placeholder="비밀번호를 한번 더 입력하세요."
              name="password_chk"
            />
            <p class="helper" id="helper_pwd_chk">*비밀번호를 한번더 입력해주세요.</p>
            <button class="send-btn" id="member-btn"><p>수정하기</p></button>
          </form>
        </div>
      </div>
    </article>
    <script>
      document.getElementById('password').addEventListener('input', () => {
        const evalue = document.getElementById('password');
        const pattern = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,20}$/;
        const h_pwd = document.getElementById('helper_pwd');
        if(evalue.value ==='') {
          h_pwd.textContent = '비밀번호를 입력해주세요';
        } else if(!pattern.test(evalue.value)) {
          h_pwd.textContent = '비밀번호는 8자 이상, 20자 이하이며, 대문자, 소문자, 숫자, 특수문자를 각각 최소 1개 포함해야 합니다.';
        } else {
          console.log('btn1');
          h_pwd.textContent = '사용가능한 비밀번호입니다.';
        }
      });
      document.getElementById('password_chk').addEventListener('input', () => {
        const evalue = document.getElementById('password_chk');
        const h_pwd = document.getElementById('helper_pwd_chk');
        const evalue_chk = document.getElementById('password');
        console.log(evalue.value);
          console.log(evalue_chk.value);
        if(evalue.value ==='') {
          h_pwd.textContent = '비밀번호를 입력해주세요';
          document.getElementById("member-btn").style.backgroundColor =
            "#aca0eb";
        } else if(evalue.value != evalue_chk.value) {
          h_pwd.textContent = '비밀번호가 다릅니다.';
          document.getElementById("member-btn").style.backgroundColor =
            "#aca0eb";
        } else {
          console.log('btn1');
          h_pwd.textContent = '사용가능한 비밀번호입니다.';
          document.getElementById("member-btn").style.backgroundColor =
            "#7F6AEE";
        }
      });
    </script>
  </body>
</html>
